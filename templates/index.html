{% extends "base.html" %}

{% block styles %}
<style>
  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
    text-align: center;
    background-color: #fcfdff;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  }
  .card {
    min-width: 280px;
    padding: 2rem;
    border: 1px solid #ddd;
    border-radius: 10px;
    background-color: #f9f9f9;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
  }
  .treatment-hours {
    padding: 3rem 2rem;
  }
  .location, .reservation {
    margin-bottom: 2rem;
  }
  .clinic-hours-bold {
    font-weight: bold;
    color: #196A25;
    margin-top: 0.7em;
  }
  /* ì „í™”ë²ˆí˜¸ í¬ì¸íŠ¸ ì»¬ëŸ¬ ë°•ìŠ¤í˜• ìŠ¤íƒ€ì¼ */
  .phone-link {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    padding: 1rem 2rem;
    background-color: #0f4a1a;
    color: white;
    text-decoration: none;
    border-radius: 10px;
    font-size: 1.3rem;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    justify-content: center;
    margin: 1rem auto 0 auto;
    width: fit-content;
  }
  .phone-link:hover {
    background-color: #0a3a15;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  }
  .phone-icon {
    font-size: 1.5rem;
  }
  .phone-number {
    font-size: 1.4rem;
  }
  @media (min-width: 769px) {
    .card {
      min-width: 160px;
      padding: 1rem 1.2rem;
    }
  }
  @media (max-width: 768px) {
    .container {
      display: block;
      padding: 1rem 0.8rem;
    }
    .card {
      min-width: auto;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .phone-link {
      font-size: 1.1rem;
      padding: 0.7rem 1.2rem;
    }
    .phone-number {
      font-size: 1.2rem;
    }
  }
  .popup-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  .popup-content {
    background: white;
    padding: 20px;
    border-radius: 10px;
    max-width: 90%;
    max-height: 90%;
    overflow: auto;
    text-align: center;
  }
  .popup-content img {
    width: 100%;
    height: auto;
    border-radius: 10px;
  }
  .greeting-slider {
    width: 100%;
    max-width: 900px;
    margin: 0.7rem auto 1.2rem auto;
    text-align: center;
    position: relative;
    aspect-ratio: 4 / 3;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  @media (max-width: 768px) {
    .greeting-slider {
      max-width: 100%;
      margin: 0.5rem 0 1rem 0;
    }
  }
  .slider-dots {
    display: flex;
    justify-content: center;
    gap: 0.6rem;
    margin-top: 0.7rem;
  }
  .slider-dot {
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #d0d7d7;
    display: inline-block;
    cursor: pointer;
    transition: background 0.2s;
    border: none;
    outline: none;
  }
  .slider-dot.active {
    background: #196A25;
  }
  .slider-btn {
    background: #196A25;
    color: #fff;
    border: none;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    font-size: 1.5rem;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .slider-btn:hover {
    background: #13521e;
  }
  .slider-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    color: rgba(0, 0, 0, 0.5);
    border: none;
    font-size: 4.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    font-weight: bold;
  }
  .slider-arrow:hover {
    color: rgba(0, 0, 0, 0.8);
    transform: translateY(-50%) scale(1.1);
  }
  .slider-arrow.prev {
    left: 10px;
  }
  .slider-arrow.next {
    right: 10px;
  }
  .mobile-greeting-img {
    display: block;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    margin: 0 auto;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.10);
    object-fit: cover;
    background: #f4f4f4;
  }
  .treatment-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 2rem 0;
  }
  .treatment-category {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: 1px solid #e0e0e0;
    transition: transform 0.3s ease;
  }
  .treatment-category:hover {
    transform: translateY(-2px);
  }
  .treatment-category h4 {
    color: #333;
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
  }
  .treatment-category p {
    font-size: 0.9rem;
    color: #666;
    margin: 0;
  }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <h1 style="color: #196A25;">ëŠ˜í’ˆë™ë¬¼ë³‘ì›ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h1>
  <p style="font-size:1.4rem; margin-bottom:0.5em;">ë°˜ë ¤ë™ë¬¼ì—ê²Œ ìµœì„ ì˜ ì¹˜ë£Œë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•©ë‹ˆë‹¤.</p>
  <p style="font-size:1.4rem; margin-top:0.5em;"></p>
  <div class="greeting-slider">
    <img id="greetingSliderImg"
         src="{{ url_for('static', filename='images/logo.png') }}"
         alt="ëŠ˜í’ˆë™ë¬¼ë³‘ì›"
         class="mobile-greeting-img">
    <button class="slider-arrow prev" onclick="showPrevImage()">â€¹</button>
    <button class="slider-arrow next" onclick="showNextImage()">â€º</button>
    <div class="slider-dots" id="sliderDots"></div>
  </div>

  <div class="card treatment-hours" style="margin-top: 3rem;">
    <h3 style="color: #196A25; margin: 0 0 30px 0;">ì§„ë£Œ ì‹œê°„</h3>
    <p>ì›”, í™”, ëª©, ê¸ˆìš”ì¼ : 09:30 ~ 20:00</p>
    <p>ìˆ˜, í† ìš”ì¼, ê³µíœ´ì¼ : 09:30 ~ 18:00</p>
    <p style="text-decoration: underline;">íœ´ê²Œì‹œê°„ : 12:30 ~ 14:00</p>
    <p class="clinic-hours-bold">ë§¤ì£¼ ì¼ìš”ì¼ ì •ê¸°íœ´ë¬´</p>
  </div>

  <h3 style="text-align: center; margin: 3rem 0 2rem 0; color: #196A25;">ì§„ë£Œê³¼ëª©</h3>
  <div class="treatment-categories">
    <div class="treatment-category">
      <h4>ìˆœí™˜ê¸°ë‚´ê³¼ / ë‚´ë¶„ë¹„ë‚´ê³¼</h4>
      <p>ì‹¬ì¥ì§ˆí™˜, ë‹¹ë‡¨ë³‘, ê°‘ìƒì„  ì§ˆí™˜ ë“±</p>
    </div>
    <div class="treatment-category">
      <h4>í”¼ë¶€ê³¼ / ì™¸ì´ë„ ì§ˆí™˜</h4>
      <p>ì•Œë ˆë¥´ê¸°, í”¼ë¶€ì—¼, ê·€ ì§ˆí™˜ ë“±</p>
    </div>
    <div class="treatment-category">
      <h4>ì¼ë°˜ì™¸ê³¼ / ì •í˜•ì™¸ê³¼</h4>
      <p> ì¢…ê´´ì œê±°ìˆ˜ìˆ , ê´€ì ˆì§ˆí™˜ ì§„ë‹¨ ë“±</p>
    </div>
    <div class="treatment-category">
      <h4>ê±´ê°•ê²€ì§„</h4>
      <p>ì •ê¸°ê²€ì§„, ì¢…í•©ê²€ì‚¬ ë“±</p>
    </div>
    <div class="treatment-category">
      <h4>ì¹˜ê³¼ / ìŠ¤ì¼€ì¼ë§</h4>
      <p>ì¹˜ì„ì œê±°, ì¹˜ì•„ ì¹˜ë£Œ ë“±</p>
    </div>
    <div class="treatment-category">
      <h4>ì˜ˆë°©ì ‘ì¢… / ì¤‘ì„±í™”ìˆ˜ìˆ </h4>
      <p>ë°±ì‹ ì ‘ì¢…, ì¤‘ì„±í™”ìˆ˜ìˆ  ë“±</p>
    </div>
  </div>

  <div class="location">
    <h3 style="color: #196A25; margin-top: 3rem;">ì˜¤ì‹œëŠ” ê¸¸</h3>
    <div class="main-info-text">
      <p><strong>ì£¼ì†Œ:</strong> ì¶©ë¶ ì²­ì£¼ì‹œ ì„œì›êµ¬ 1ìˆœí™˜ë¡œ 1059, THE STYLE ì˜¤í”¼ìŠ¤í…” 1ì¸µ</p>
      <p><strong>ì „í™”:</strong> 043-715-3130</p>
    </div>
    <div id="map" style="width:100%;height:400px;margin-top:1rem;"></div>
  </div>

  <div class="parking-guide card" style="margin-top: 2rem;">
    <h3 style="margin: 0.8rem 0 2rem 0; color: #196A25;">ì£¼ì°¨ì•ˆë‚´</h3>
    <p>THE STYLE ì˜¤í”¼ìŠ¤í…” ì§€í•˜ì£¼ì°¨ì¥ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ìì„¸í•œ ì•ˆë‚´ëŠ” ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
    <a href="/parking" class="phone-link" style="background:rgba(241, 196, 15, 0.8); color:#333; margin-top:1rem;">ì£¼ì°¨ì•ˆë‚´ ìì„¸íˆ ë³´ê¸°</a>
  </div>

  <div class="reservation">
    <h3 style="color: #196A25; margin-top: 3rem;">ì „í™” ë¬¸ì˜</h3>
    <a href="tel:043-715-3130" class="phone-link">
      <span class="phone-icon">ğŸ“</span>
      <span class="phone-number">043-715-3130</span>
    </a>
    <p style="margin-top:1rem; font-size:1.1rem; color:#666;">
      ì§„ë£Œ ë¬¸ì˜ì‚¬í•­ì€ ì „í™” ë¶€íƒë“œë¦½ë‹ˆë‹¤.<br>
      í™˜ì ì¹˜ë£Œ ì¤‘ ì „í™”ë¥¼ ë°›ì§€ ëª»í•  ê²½ìš°, íšŒì‹  ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
    </p>
  </div>

  <!-- ë‘ ë²ˆì§¸ ì‚¬ì§„ ìŠ¬ë¼ì´ë” (ê°€ì¥ ì•„ë˜ìª½) -->
  <div class="greeting-slider" style="margin-top: 3rem;">
    <img id="secondSliderImg"
         src="{{ url_for('static', filename='images/album 1.jpg') }}"
         alt="ë³‘ì› ì•¨ë²”"
         class="mobile-greeting-img">
    <button class="slider-arrow prev" onclick="showPrevSecondImage()">â€¹</button>
    <button class="slider-arrow next" onclick="showNextSecondImage()">â€º</button>
    <div class="slider-dots" id="secondSliderDots"></div>
  </div>
  <p style="font-size:1.4rem; color:#196A25; font-weight:bold; margin-top:1rem; margin-bottom:2rem; text-align:center;">í•¨ê»˜ì—¬ì„œ í–‰ë³µí•œ ë‹¹ì‹ ì˜ ì¼ìƒ, ê·¸ë¦¬ê³  ëŠ˜í’ˆ</p>
</div>

<!-- ì¹´ì¹´ì˜¤ë§µ API -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey={{ kakao_api_key }}"></script>
<script>
  var container = document.getElementById('map');
  var options = {
    center: new kakao.maps.LatLng(36.60665, 127.4844), // ëŠ˜í’ˆë™ë¬¼ë³‘ì› ì •í™•í•œ ì¢Œí‘œ
    level: 3
  };
  var map = new kakao.maps.Map(container, options);
  
  // ë§ˆì»¤ ì¶”ê°€
  var marker = new kakao.maps.Marker({
    position: new kakao.maps.LatLng(36.60665, 127.4844)
  });
  marker.setMap(map);
  
  // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
  kakao.maps.event.addListener(marker, 'click', function() {
    window.open('https://map.naver.com/p/entry/place/1115493002?placePath=/home?entry=plt&from=map&fromPanelNum=1&additionalHeight=76&timestamp=202507131958&locale=ko&svcName=map_pcv5&searchType=place&lng=127.4844427&lat=36.6066468&c=15.00,0,0,0,dh', '_blank');
  });
  
  // ì¸í¬ìœˆë„ìš° ì¶”ê°€
  var infowindow = new kakao.maps.InfoWindow({
    content: '<div style="padding:5px;font-size:16px;font-weight:bold;min-width:120px;text-align:center;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ëŠ˜í’ˆë™ë¬¼ë³‘ì›&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>'
  });
  infowindow.open(map, marker);
</script>

<!-- ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë” ìŠ¤í¬ë¦½íŠ¸ -->
<script>
  const images = [
    "{{ url_for('static', filename='images/logo.png') }}",
    "{{ url_for('static', filename='images/front1.jpg') }}",
    "{{ url_for('static', filename='images/front2.jpg') }}",
    "{{ url_for('static', filename='images/lobby1.jpg') }}",
    "{{ url_for('static', filename='images/lobby2.jpg') }}",
    "{{ url_for('static', filename='images/cat waiting.jpg') }}",
    "{{ url_for('static', filename='images/consulting room.jpg') }}",
"{{ url_for('static', filename='images/operating room.jpg') }}"
  ];
  
  let currentImageIndex = 0;
  const sliderImg = document.getElementById('greetingSliderImg');
  const dotsContainer = document.getElementById('sliderDots');
  
  // ì ë“¤ ìƒì„±
  images.forEach((_, index) => {
    const dot = document.createElement('button');
    dot.className = 'slider-dot';
    if (index === 0) dot.classList.add('active');
    dot.onclick = () => showImage(index);
    dotsContainer.appendChild(dot);
  });
  
  function showImage(index) {
    currentImageIndex = index;
    sliderImg.src = images[index];
    
    // ì ë“¤ ì—…ë°ì´íŠ¸
    const dots = dotsContainer.querySelectorAll('.slider-dot');
    dots.forEach((dot, i) => {
      dot.classList.toggle('active', i === index);
    });
    
    // ìˆ˜ë™ ì „í™˜ ì‹œ ìë™ ìŠ¬ë¼ì´ë“œ ì¬ì‹œì‘
    resetAutoSlide();
  }
  
  function showPrevImage() {
    currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
    showImage(currentImageIndex);
  }
  
  function showNextImage() {
    currentImageIndex = (currentImageIndex + 1) % images.length;
    showImage(currentImageIndex);
  }
  
  // ìë™ ìŠ¬ë¼ì´ë“œ
  let autoSlideInterval = setInterval(() => {
    currentImageIndex = (currentImageIndex + 1) % images.length;
    showImage(currentImageIndex);
  }, 5000);
  
  // ìˆ˜ë™ ì „í™˜ ì‹œ ìë™ ìŠ¬ë¼ì´ë“œ ì¬ì‹œì‘
  function resetAutoSlide() {
    clearInterval(autoSlideInterval);
    autoSlideInterval = setInterval(() => {
      currentImageIndex = (currentImageIndex + 1) % images.length;
      showImage(currentImageIndex);
    }, 5000);
  }
</script>

<!-- ë‘ ë²ˆì§¸ ìŠ¬ë¼ì´ë” ìŠ¤í¬ë¦½íŠ¸ -->
<script>
  const secondImages = [
    "{{ url_for('static', filename='images/album 1.jpg') }}",
    "{{ url_for('static', filename='images/album 2.jpg') }}",
    "{{ url_for('static', filename='images/album 3.jpg') }}",
    "{{ url_for('static', filename='images/album 4.jpg') }}",
    "{{ url_for('static', filename='images/album 5.jpg') }}",
    "{{ url_for('static', filename='images/album 6.jpg') }}"
  ];
  
  let currentSecondImageIndex = 0;
  const secondSliderImg = document.getElementById('secondSliderImg');
  const secondDotsContainer = document.getElementById('secondSliderDots');
  
  // ì ë“¤ ìƒì„±
  secondImages.forEach((_, index) => {
    const dot = document.createElement('button');
    dot.className = 'slider-dot';
    if (index === 0) dot.classList.add('active');
    dot.onclick = () => showSecondImage(index);
    secondDotsContainer.appendChild(dot);
  });
  
  function showSecondImage(index) {
    currentSecondImageIndex = index;
    secondSliderImg.src = secondImages[index];
    
    // ì ë“¤ ì—…ë°ì´íŠ¸
    const dots = secondDotsContainer.querySelectorAll('.slider-dot');
    dots.forEach((dot, i) => {
      dot.classList.toggle('active', i === index);
    });
    
    // ìˆ˜ë™ ì „í™˜ ì‹œ ìë™ ìŠ¬ë¼ì´ë“œ ì¬ì‹œì‘
    resetSecondAutoSlide();
  }
  
  function showPrevSecondImage() {
    currentSecondImageIndex = (currentSecondImageIndex - 1 + secondImages.length) % secondImages.length;
    showSecondImage(currentSecondImageIndex);
  }
  
  function showNextSecondImage() {
    currentSecondImageIndex = (currentSecondImageIndex + 1) % secondImages.length;
    showSecondImage(currentSecondImageIndex);
  }
  
  // ìë™ ìŠ¬ë¼ì´ë“œ
  let secondAutoSlideInterval = setInterval(() => {
    currentSecondImageIndex = (currentSecondImageIndex + 1) % secondImages.length;
    showSecondImage(currentSecondImageIndex);
  }, 4000); // ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë”ë³´ë‹¤ ë¹ ë¥´ê²Œ
  
  // ìˆ˜ë™ ì „í™˜ ì‹œ ìë™ ìŠ¬ë¼ì´ë“œ ì¬ì‹œì‘
  function resetSecondAutoSlide() {
    clearInterval(secondAutoSlideInterval);
    secondAutoSlideInterval = setInterval(() => {
      currentSecondImageIndex = (currentSecondImageIndex + 1) % secondImages.length;
      showSecondImage(currentSecondImageIndex);
    }, 4000);
  }
</script>
{% endblock %}
